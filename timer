#! /usr/bin/python3


import argparse
import subprocess

TIMES = 7


parser = argparse.ArgumentParser(description='.')

parser.add_argument('-j', '--java', type=str, nargs="+" , required=True)
parser.add_argument("-a", '--args', type=str, nargs="+")
args = parser.parse_args()



bins = vars(args).get("java")
argList = vars(args).get("args")
out = {}

for bin in bins:
    out[bin] = []
    for arg in argList:
        median_times = []
        command = "java " + bin + " " + arg
        for i in range(TIMES):
            time = subprocess.check_output(command.split(), stderr=subprocess.PIPE)
            median_times.append(time)
        median_times.sort()
        out[bin].append(median_times[3])

print(out)

